<html>
      <head>
        <meta charset="UTF-8">
        <title>README.md</title>
      </head>
      <body>
        <p><a href="http://travis-ci.org/markdalgleish/stellar.js"><img src="https://secure.travis-ci.org/markdalgleish/stellar.js.png" alt="Build Status"></a></p>
<h1 id="-stellar-js-http-markdalgleish-com-projects-stellar-js-endorse-http-api-coderwall-com-markdalgleish-endorsecount-png-http-coderwall-com-markdalgleish-"><a href="http://markdalgleish.com/projects/stellar.js/">Stellar.js</a> <a href="http://coderwall.com/markdalgleish"><img src="http://api.coderwall.com/markdalgleish/endorsecount.png" alt="endorse"></a></h1>
<h3 id="parallax-scrolling-made-easy">Parallax scrolling made easy</h3>
<p>Full guide and demonstrations available at the <a href="http://markdalgleish.com/projects/stellar.js/">official Stellar.js project page</a>.</p>
<h2 id="download">Download</h2>
<p>Get the <a href="https://raw.github.com/markdalgleish/stellar.js/master/jquery.stellar.js">development</a> or <a href="https://raw.github.com/markdalgleish/stellar.js/master/jquery.stellar.min.js">production</a> version, or use a <a href="https://github.com/markdalgleish/stellar.js#package-managers">package manager</a>.</p>
<h2 id="getting-started">Getting Started</h2>
<p>Stellar.js is a jQuery plugin that provides parallax scrolling effects to any scrolling element. The first step is to run <code>.stellar()</code> against the element:</p>
<pre><code class="lang-js">// For example:
$(window).stellar();
// or:
$(&#39;#main&#39;).stellar();
</code></pre>
<p>If you&#39;re running Stellar.js on &#39;window&#39;, you can use the shorthand:</p>
<pre><code class="lang-js">$.stellar();
</code></pre>
<p>This will look for any parallax backgrounds or elements within the specified element and reposition them when the element scrolls.</p>
<h2 id="mobile-support">Mobile Support</h2>
<p>Support in Mobile WebKit browsers requires a touch scrolling library, and a slightly tweaked configuration. For a full walkthrough on how to implement this correctly, read my blog post <a href="http://markdalgleish.com/2012/10/mobile-parallax-with-stellar-js">&quot;Mobile Parallax with Stellar.js&quot;</a>.</p>
<p>Please note that parallax backgrounds are not recommended in Mobile WebKit due to performance constraints. Instead, use parallax elements with static backgrounds.</p>
<h2 id="parallax-elements">Parallax Elements</h2>
<p>If you want elements to scroll at a different speed, add the following attribute to any element with a CSS position of absolute, relative or fixed:</p>
<pre><code class="lang-html">&lt;div data-stellar-ratio=&quot;2&quot;&gt;
</code></pre>
<p>The ratio is relative to the natural scroll speed, so a ratio of 0.5 would cause the element to scroll at half-speed, a ratio of 1 would have no effect, and a ratio of 2 would cause the element to scroll at twice the speed.</p>
<p>If a ratio lower than 1 is causing the element to appear jittery, try setting its CSS position to fixed.</p>
<h2 id="parallax-backgrounds">Parallax Backgrounds</h2>
<p>If you want an element&#39;s background image to reposition on scroll, simply add the following attribute:</p>
<pre><code class="lang-html">&lt;div data-stellar-background-ratio=&quot;0.5&quot;&gt;
</code></pre>
<p>As with parallax elements, the ratio is relative to the natural scroll speed. For ratios lower than 1, to avoid jittery scroll performance, set the element&#39;s CSS &#39;background-attachment&#39; to fixed.</p>
<h2 id="configuring-offsets">Configuring Offsets</h2>
<p>Stellar.js&#39; most powerful feature is the way it aligns elements.</p>
<p>All elements will return to their original positioning when their offset parent meets the edge of the screenâ€”plus or minus your own optional offset. This allows you to create intricate parallax patterns very easily.</p>
<p>Confused? <a href="http://markdalgleish.com/projects/stellar.js/#show-offsets">See how offsets are used on the Stellar.js home page.</a></p>
<p>To modify the offsets for all elements at once, pass in the options:</p>
<pre><code class="lang-js">$.stellar({
  horizontalOffset: 40,
  verticalOffset: 150
});
</code></pre>
<p>You can also modify the offsets on a per-element basis using the following data attributes:</p>
<pre><code class="lang-html">&lt;div data-stellar-ratio=&quot;2&quot;
     data-stellar-horizontal-offset=&quot;40&quot;
     data-stellar-vertical-offset=&quot;150&quot;&gt;
</code></pre>
<h2 id="configuring-offset-parents">Configuring Offset Parents</h2>
<p>By default, offsets are relative to the element&#39;s offset parent. This mirrors the way an absolutely positioned element behaves when nested inside an element with a relative position.</p>
<p>As with regular CSS, the closest parent element with a position of relative or absolute is the offset parent.</p>
<p>To override this and force the offset parent to be another element higher up the DOM, use the following data attribute:</p>
<pre><code class="lang-html">&lt;div data-stellar-offset-parent=&quot;true&quot;&gt;
</code></pre>
<p>The offset parent can also have its own offsets:</p>
<pre><code class="lang-html">&lt;div data-stellar-offset-parent=&quot;true&quot;
     data-stellar-horizontal-offset=&quot;40&quot;
     data-stellar-vertical-offset=&quot;150&quot;&gt;
</code></pre>
<p>Similar to CSS, the rules take precedence from element, to offset parent, to JavaScript options.</p>
<p>Confused? <a href="http://markdalgleish.com/projects/stellar.js/#show-offset-parents">See how offset parents are used on the Stellar.js home page.</a></p>
<p>Still confused? <a href="http://markdalgleish.com/projects/stellar.js/#show-offset-parents-default">See what it looks like with its default offset parents.</a> Notice how the alignment happens on a per-letter basis? That&#39;s because each letter&#39;s containing div is its default offset parent.</p>
<p>By specifying the h2 element as the offset parent, we can ensure that the alignment of all the stars in a heading is based on the h2 and not the div further down the DOM tree.</p>
<h2 id="configuring-scroll-positioning">Configuring Scroll Positioning</h2>
<p>You can define what it means for an element to &#39;scroll&#39;. Whether it&#39;s the element&#39;s scroll position that&#39;s changing, its margins or its CSS3 &#39;transform&#39; position, you can define it using the &#39;scrollProperty&#39; option:</p>
<pre><code class="lang-js">$(&#39;#gallery&#39;).stellar({
  scrollProperty: &#39;transform&#39;
});
</code></pre>
<p>This option is what allows you to run <a href="http://markdalgleish.com/projects/stellar.js/demos/ios.html">Stellar.js on iOS</a>.</p>
<p>You can even define how the elements are repositioned, whether it&#39;s through standard top and left properties or using CSS3 transforms:</p>
<pre><code class="lang-js">$(&#39;#gallery&#39;).stellar({
  positionProperty: &#39;transform&#39;
});
</code></pre>
<p>Don&#39;t have the level of control you need? Write a plugin!</p>
<p>Otherwise, you&#39;re ready to get started!</p>
<h2 id="configuring-everything">Configuring Everything</h2>
<p>Below you will find a complete list of options and matching default values:</p>
<pre><code class="lang-js">$.stellar({
  // Set scrolling to be in either one or both directions
  horizontalScrolling: true,
  verticalScrolling: true,

  // Set the global alignment offsets
  horizontalOffset: 0,
  verticalOffset: 0,

  // Refreshes parallax content on window load and resize
  responsive: false,

  // Select which property is used to calculate scroll.
  // Choose &#39;scroll&#39;, &#39;position&#39;, &#39;margin&#39; or &#39;transform&#39;,
  // or write your own &#39;scrollProperty&#39; plugin.
  scrollProperty: &#39;scroll&#39;,

  // Select which property is used to position elements.
  // Choose between &#39;position&#39; or &#39;transform&#39;,
  // or write your own &#39;positionProperty&#39; plugin.
  positionProperty: &#39;position&#39;,

  // Enable or disable the two types of parallax
  parallaxBackgrounds: true,
  parallaxElements: true,

  // Hide parallax elements that move outside the viewport
  hideDistantElements: true,

  // Customise how elements are shown and hidden
  hideElement: function($elem) { $elem.hide(); },
  showElement: function($elem) { $elem.show(); }
});
</code></pre>
<h2 id="writing-a-scroll-property-plugin">Writing a Scroll Property Plugin</h2>
<p>Out of the box, Stellar.js supports the following scroll properties:
&#39;scroll&#39;, &#39;position&#39;, &#39;margin&#39; and &#39;transform&#39;.</p>
<p>If your method for creating a scrolling interface isn&#39;t covered by one of these, you can write your own. For example, if &#39;margin&#39; didn&#39;t exist yet you could write it like so:</p>
<pre><code class="lang-js">$.stellar.scrollProperty.margin = {
  getLeft: function($element) {
    return parseInt($element.css(&#39;margin-left&#39;), 10) * -1;
  },
  getTop: function($element) {
    return parseInt($element.css(&#39;margin-top&#39;), 10) * -1;
  }
}
</code></pre>
<p>Now, you can specify this scroll property in Stellar.js&#39; configuration.</p>
<pre><code class="lang-js">$.stellar({
  scrollProperty: &#39;margin&#39;
});
</code></pre>
<h2 id="writing-a-position-property-plugin">Writing a Position Property Plugin</h2>
<p>Stellar.js has two methods for positioning elements built in: &#39;position&#39; for modifying its top and left properties, and &#39;transform&#39; for using CSS3 transforms.</p>
<p>If you need more control over how elements are positioned, you can write your own setter functions. For example, if &#39;position&#39; didn&#39;t exist yet, it could be written as a plugin like this:</p>
<pre><code class="lang-js">$.stellar.positionProperty.position = {
  setTop: function($element, newTop, originalTop) {
    $element.css(&#39;top&#39;, newTop);
  },
  setLeft: function($element, newLeft, originalLeft) {
    $element.css(&#39;left&#39;, newLeft);
  }
}
</code></pre>
<p>Now, you can specify this position property in Stellar.js&#39; configuration.</p>
<pre><code class="lang-js">$.stellar({
  positionProperty: &#39;position&#39;
});
</code></pre>
<p>If, for technical reasons, you need to set both properties at once, you can define a single &#39;setPosition&#39; function:</p>
<pre><code class="lang-js">$.stellar.positionProperty.foobar = {
  setPosition: function($element, newLeft, originalLeft, newTop, originalTop) {
    $element.css(&#39;transform&#39;, &#39;translate3d(&#39; +
      (newLeft - originalLeft) + &#39;px, &#39; +
      (newTop - originalTop) + &#39;px, &#39; +
      &#39;0)&#39;);
  }
}

$.stellar({
  positionProperty: &#39;foobar&#39;
});
</code></pre>
<h2 id="package-managers">Package Managers</h2>
<p>Stellar.js can be installed with the following tools.</p>
<h3 id="-yeoman-http-yeoman-io-"><a href="http://yeoman.io/">Yeoman</a></h3>
<pre><code class="lang-bash">$ yeoman install jquery.stellar
</code></pre>
<h3 id="-bower-http-twitter-github-com-bower-"><a href="http://twitter.github.com/bower/">Bower</a></h3>
<pre><code class="lang-bash">$ bower install jquery.stellar
</code></pre>
<h2 id="sites-using-stellar-js">Sites Using Stellar.js</h2>
<ul>
<li><a href="http://mc.starz.com">Magic City</a></li>
<li><a href="http://channel.nationalgeographic.com/channel/alien-deep/interactives/alien-deep-interactive">National Geographic - Alien Deep Interactive</a></li>
<li><a href="http://www.parti-socialiste.fr/latimelineduchangement">FranÃ§ois Hollande</a></li>
<li><a href="http://www.brabus-aviation.com/">Brabus Private Aviation</a></li>
<li><a href="http://www.itsupportlondon.com">IT Support London</a></li>
<li><a href="http://bright.ashford.edu">Ashford University</a></li>
<li><a href="http://www.ws-interactive.fr/methode">WS Interactive</a></li>
<li><a href="http://www.moiremag.net/untitled">Moire Mag - Untitled</a></li>
<li><a href="http://www.carnivalofcourage.com.au">Carnival of Courage</a></li>
<li><a href="http://www.ianpoulter.com">Ian Poulter</a></li>
<li><a href="http://360strategygroup.com">360 Strategy Group</a></li>
</ul>
<p>I&#39;m sure there are heaps more. <a href="http://twitter.com/markdalgleish">Let me know if you&#39;d like me to feature your site here.</a></p>
<h2 id="how-to-build">How to Build</h2>
<p>Stellar.js uses <a href="nodejs.org">Node.js</a>, <a href="http://gruntjs.com">Grunt</a> and <a href="http://phantomjs.org/">PhantomJS</a>.</p>
<p>Once you&#39;ve got Node and PhantomJS set up, install the dependencies:</p>
<p><code>$ npm install</code></p>
<p>To lint, test and minify the project, simply run the following command:</p>
<p><code>$ grunt</code></p>
<p>Each of the build steps are also available individually.</p>
<p><code>$ grunt test</code> to test the code using QUnit and PhantomJS: </p>
<p><code>$ grunt lint</code> to validate the code using JSHint.</p>
<p><code>$ grunt watch</code> to continuously lint and test the code while developing.</p>
<h2 id="contributing-to-stellar-js">Contributing to Stellar.js</h2>
<p>Ensure that you successfully test and build the project with <code>$ grunt</code> before committing.</p>
<p>Make sure that all plugin changes are made in <code>src/jquery.stellar.js</code> (<code>/jquery.stellar.js</code> and <code>/jquery.stellar.min.js</code> are generated by Grunt).</p>
<p>If you want to contribute in a way that changes the API, please file an issue before submitting a pull request so we can discuss how to appropriately integrate your ideas.</p>
<h2 id="questions-">Questions?</h2>
<p>Contact me on GitHub or Twitter: <a href="http://twitter.com/markdalgleish">@markdalgleish</a></p>
<h2 id="license">License</h2>
<p>Copyright 2013, Mark Dalgleish<br>This content is released under the MIT license<br><a href="http://markdalgleish.mit-license.org">http://markdalgleish.mit-license.org</a></p>

      </body>
    </html>